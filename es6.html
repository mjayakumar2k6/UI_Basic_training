<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ecmascript 2016 - ES6</title>
</head>
<body>
    <script>
        //Let, Const
        var name = "Jayakumar";
        if(true) {
            console.log("var name = ", name);
            var name = "Manickam";
            console.log("var name = ", name);
        }
        var name = "JK";
        console.log(name);

        {
            let training = "JS";
            if(true) {
                //console.log("let training = ", training);
                let training = "Angular";
                console.log("let training = ", training);
            }  
            training = "ES6";
            console.log(training);
        }
     
        {
            const subject = "Jquery";
            {                
                const subject = "CSS";
                console.log(subject);
            }
            console.log(subject);
            //subject = "Bootstrap"
        }

        //Template Literals
        function makeUpperCase(str) {
            return str.toUpperCase();
        }
        function welcome(mode, type) {
            console.log("welcome to " + mode + " " + type + " training");

            console.log(`welcome to ${mode.toUpperCase()} ${makeUpperCase(type)} training`);
        }
        welcome("Angular", "Beginner");

        //Default Function Parameters

        function es5Fn(a,b,c) {
            console.log(a,b,c);
        }

        es5Fn(1);
        es5Fn(1,2);
        es5Fn(1,2,3);

        function defaultParams(a=1, b=2, c=3) {
            console.log(a,b,c);
        }
        defaultParams();
        defaultParams(4);
        defaultParams(4,5);
        defaultParams(4,5,6);

        //Rest Parameters
        console.log("reset params");
        function es5Rest(a,b) {
            console.log(a,b, arguments);
        }
        es5Rest(1,2,3,4,5);

        function restParams(a, b, ...c) {
            console.log(a,b,c);
        }

        restParams(1,2,3,4,5,6);

        //Spread Operator
        let arr = [1,2,3,4];
        let arr1 = arr;
        //ES5 way
        let arr2 = Object.assign([], arr);
        //ES6
        let arr3 = [...arr];
        
        arr.pop() //1,2,3
        arr1.push(5);//1,2,3,4,5
        
        console.log("arr", arr);
        console.log("arr1", arr1);
        console.log("arr2", arr2);
        console.log("arr3", arr3);

        let details = {name: "Angular", mode: "Beginner", topics: ["angular", "js", "css"]};
        let details1 = details;
        let details2 = Object.assign({}, details);//es5 way
        let details3 = {...details, topics: [...details.topics]};
        details3.topics.push("jquery");

        details.name = "Javascript";
        details2.name = "Typescript";
        details3.name = "Jquery";

        console.log("details", details);
        console.log("details1", details1);
        console.log("details2", details2);
        console.log("details3", details3);

        //Arrow Function
        console.log("Arrow Function");
        function es5Fn() {
            console.log("Function");
        }

        const es6Fn = () => {
            console.log("Inside Arrow functions");
        }

        es5Fn();
        es6Fn();

        const person = {
            firstName: "Jayakumar",
            lastName: "Manickam",
            displayName: function() {

                console.log(this);

                (function(){
                    console.log(this);
                })()

                var bindFn = function() {
                    console.log(this, "this with bind");
                }.bind(this);
                bindFn();
                
                const arrFn = () => {
                    console.log(this);
                };
                arrFn();
   
                // console.log(`${this.firstName} ${this.lastName}`);
                // console.log("this inside displayName", this);

                // var self = this;

                // setTimeout(function(){
                //     console.log("this inside timeout", this);
                //     console.log(`inside timeout ${self.firstName} ${self.lastName}`);
                // }.bind(this), 1);

                // setTimeout(() => {
                //     console.log("this inside timeout arrow funtion", this);
                //     console.log(`inside timeout arrow function ${this.firstName} ${this.lastName}`);                    
                // }, 1);
            }
        }

        console.log(person.displayName());

        //Destructuring Assignment
        var cars = ["Maruti Alto", "Toyoto Innova","Hyundai i20"];
        var car1 = cars[0],
            car2 = cars[1];
        
        console.log(car1, car2);

        let [car3, car4, car5, car6="Honda Amaze"] = cars;
        let [c7, ...c8] = cars;
        console.log(car3, car4, car5, car6);
        console.log("c7", c7, c8);

        //es5
        let pfirstName = person.firstName;
        let plastName = person.lastName;
        //es6
        let {firstName:fname, lastName} = person;
        console.log(fname, lastName);

        //import & export

        //Classes
        class Person {
            constructor(firstName, lastName) {
                this.firstName = firstName;
                this.lastName = lastName;
            }
            greet() {
                console.log("Hello fom class", this.firstName, this.lastName);
            }
        }

        const p = new Person("Jaykumar", "Manickam");
        p.greet();

        //of
        for(let x in person) {
            console.log("x=",person[x]);
        }
        
        for(let cc in cars) {
            console.log(cc, cars[cc]);
        }

        for(let cof of cars) {
            console.log(cof);
        }
        cars.forEach(function(val,index){
            console.log(val,index, "foreach");
        });


        /*
            let a:string = "Jayakumar";
            a = "12";

            let count:number = 12;

            interface User {
                name: string;
                id: number;
            }

            let user:User = {
                name: "Jayakumar",
                id: 1
            }

            class Person {
                greet(user: User) {
                    console.log(user);
                }
            }

            let p = new Person();
            p.greet({name: "23", id: 1});        
        */
    </script>
    <script src="./js/import.js" type="module"></script>
</body>
</html>
